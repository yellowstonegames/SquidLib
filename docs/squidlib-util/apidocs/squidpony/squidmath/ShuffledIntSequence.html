<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) -->
<title>ShuffledIntSequence (squidlib-util 3.0.5-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: squidpony.squidmath, class: ShuffledIntSequence">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ShuffledIntSequence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">squidpony.squidmath</a></div>
<h1 title="Class ShuffledIntSequence" class="title">Class ShuffledIntSequence</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="LowStorageShuffler.html" title="class in squidpony.squidmath">squidpony.squidmath.LowStorageShuffler</a>
<div class="inheritance">squidpony.squidmath.ShuffledIntSequence</div>
</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ShuffledIntSequence</span>
<span class="extends-implements">extends <a href="LowStorageShuffler.html" title="class in squidpony.squidmath">LowStorageShuffler</a>
implements <a href="https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">An infinite sequence of pseudo-random ints (typically used as indices) from 0 to some bound, with all possible ints
 returned in a shuffled order before re-shuffling for the next result. Does not store the sequence in memory. Uses a
 Feistel network, as described in <a href="https://blog.demofox.org/2013/07/06/fast-lightweight-random-shuffle-functionality-fixed/">this post by Alan Wolfe</a>.
 The API is very simple; you construct a ShuffledIntSequence by specifying how many items it should shuffle (the
 actual sequence is boundless, but the items it can return are limited to between 0 and some bound), and you can
 optionally use a seed (it will be random if you don't specify a seed). Call <a href="#next()"><code>next()</code></a> on a ShuffledIntSequence
 to get the next distinct int in the shuffled ordering; next() will re-shuffle the sequence if it runs out of distinct
 possible results. You can go back to the previous item with <a href="#previous()"><code>previous()</code></a>, which is allowed to go earlier than
 the first result generated (it will jump back to what is effectively the previous shuffled sequence). You can restart
 the sequence with <a href="LowStorageShuffler.html#restart()"><code>LowStorageShuffler.restart()</code></a> to use the same sequence over again (which doesn't make much sense here, since
 this makes many sequences by re-shuffling), or <a href="#restart(int)"><code>restart(int)</code></a> to use a different seed (the bound is fixed).
 <br>
 This differs from the version in Alan Wolfe's example code and blog post; it uses a very different round function,
 and it only uses 2 rounds of it (instead of 4). Wolfe's round function is MurmurHash2, but as far as I can tell the
 version he uses doesn't have anything like MurmurHash3's fmix32() to adequately avalanche bits, and since all keys
 are small keys with the usage of MurmurHash2 in his code, avalanche is the most important thing. It's also perfectly
 fine to use irreversible operations in a Feistel network round function, and I do that since it seems to improve
 randomness slightly. The <a href="LowStorageShuffler.html#round(int,int)"><code>LowStorageShuffler.round(int, int)</code></a> method used here acts like SilkRNG's way of mixing two states, but
 here changed to be irreversible and unbalanced (which is fine here). Using 4 rounds turns out to be overkill in this
 case. This also uses a different seed for each round.
 <br>
 This class extends <a href="LowStorageShuffler.html" title="class in squidpony.squidmath"><code>LowStorageShuffler</code></a>, changing it from producing a unique set of ints once, to producing
 many sets of ints one after the next.
 <br>
 Created by Tommy Ettinger on 9/30/2018.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../serialized-form.html#squidpony.squidmath.ShuffledIntSequence">Serialized Form</a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#seed">seed</a></span></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.squidpony.squidmath.LowStorageShuffler">Fields inherited from class&nbsp;squidpony.squidmath.<a href="LowStorageShuffler.html" title="class in squidpony.squidmath">LowStorageShuffler</a></h3>
<code><a href="LowStorageShuffler.html#bound">bound</a>, <a href="LowStorageShuffler.html#halfBits">halfBits</a>, <a href="LowStorageShuffler.html#index">index</a>, <a href="LowStorageShuffler.html#key0">key0</a>, <a href="LowStorageShuffler.html#key1">key1</a>, <a href="LowStorageShuffler.html#leftMask">leftMask</a>, <a href="LowStorageShuffler.html#pow4">pow4</a>, <a href="LowStorageShuffler.html#rightMask">rightMask</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E()">ShuffledIntSequence</a></span>()</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a ShuffledIntSequence with a random seed and a bound of 10.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E(int)">ShuffledIntSequence</a></span>&#8203;(int&nbsp;bound)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a ShuffledIntSequence with the given exclusive upper bound and a random seed.</div>
</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E(int,int)">ShuffledIntSequence</a></span>&#8203;(int&nbsp;bound,
 int&nbsp;seed)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a ShuffledIntSequence with the given exclusive upper bound and int seed.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>int</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#next()">next</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Gets the next distinct int in the sequence, shuffling the sequence if it has been exhausted so it never runs out.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#previous()">previous</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Gets the previous returned int from the sequence (as yielded by <a href="#next()"><code>next()</code></a>), restarting the sequence in a
 correctly-ordered way if it would go to before the "start" of the sequence (it is actually close to infinite both
 going forwards and backwards).</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#restart(int)">restart</a></span>&#8203;(int&nbsp;seed)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Starts the sequence over, but can change the seed (completely changing the sequence).</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.squidpony.squidmath.LowStorageShuffler">Methods inherited from class&nbsp;squidpony.squidmath.<a href="LowStorageShuffler.html" title="class in squidpony.squidmath">LowStorageShuffler</a></h3>
<code><a href="LowStorageShuffler.html#determine(int)">determine</a>, <a href="LowStorageShuffler.html#encode(int)">encode</a>, <a href="LowStorageShuffler.html#restart()">restart</a>, <a href="LowStorageShuffler.html#round(int,int)">round</a></code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="seed">
<h3>seed</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">seed</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ShuffledIntSequence</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ShuffledIntSequence</span>()</div>
<div class="block">Constructs a ShuffledIntSequence with a random seed and a bound of 10.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int)">
<h3>ShuffledIntSequence</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ShuffledIntSequence</span>&#8203;<span class="parameters">(int&nbsp;bound)</span></div>
<div class="block">Constructs a ShuffledIntSequence with the given exclusive upper bound and a random seed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bound</code> - how many distinct ints this can return</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int,int)">
<h3>ShuffledIntSequence</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ShuffledIntSequence</span>&#8203;<span class="parameters">(int&nbsp;bound,
 int&nbsp;seed)</span></div>
<div class="block">Constructs a ShuffledIntSequence with the given exclusive upper bound and int seed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bound</code> - how many distinct ints this can return</dd>
<dd><code>seed</code> - any int; will be used to get several seeds used internally</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="next()">
<h3>next</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">next</span>()</div>
<div class="block">Gets the next distinct int in the sequence, shuffling the sequence if it has been exhausted so it never runs out.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="LowStorageShuffler.html#next()">next</a></code>&nbsp;in class&nbsp;<code><a href="LowStorageShuffler.html" title="class in squidpony.squidmath">LowStorageShuffler</a></code></dd>
<dt>Returns:</dt>
<dd>the next item in the sequence</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="previous()">
<h3>previous</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">previous</span>()</div>
<div class="block">Gets the previous returned int from the sequence (as yielded by <a href="#next()"><code>next()</code></a>), restarting the sequence in a
 correctly-ordered way if it would go to before the "start" of the sequence (it is actually close to infinite both
 going forwards and backwards).</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="LowStorageShuffler.html#previous()">previous</a></code>&nbsp;in class&nbsp;<code><a href="LowStorageShuffler.html" title="class in squidpony.squidmath">LowStorageShuffler</a></code></dd>
<dt>Returns:</dt>
<dd>the previously-given item in the sequence, or -1 if something goes wrong (which shouldn't be possible)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restart(int)">
<h3>restart</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">restart</span>&#8203;<span class="parameters">(int&nbsp;seed)</span></div>
<div class="block">Starts the sequence over, but can change the seed (completely changing the sequence). If <code>seed</code> is the same
 as the seed given in the constructor, this will use the same sequence, acting like <a href="LowStorageShuffler.html#restart()"><code>LowStorageShuffler.restart()</code></a>.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="LowStorageShuffler.html#restart(int)">restart</a></code>&nbsp;in class&nbsp;<code><a href="LowStorageShuffler.html" title="class in squidpony.squidmath">LowStorageShuffler</a></code></dd>
<dt>Parameters:</dt>
<dd><code>seed</code> - any int; will be used to get several seeds used internally</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; Eben Howard 2012&#x2013;2021. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
